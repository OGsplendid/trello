!function(){"use strict";class e{constructor(){window.addEventListener("beforeunload",e.save),document.addEventListener("DOMContentLoaded",e.get)}static save(){localStorage.clear();const e=document.querySelector(".column-left").querySelectorAll(".note-text"),t=document.querySelector(".column-center").querySelectorAll(".note-text"),o=document.querySelector(".column-right").querySelectorAll(".note-text");if(e){const t=[];for(const o of e)t.push(o.textContent),localStorage.setItem("data-left",JSON.stringify(t)),console.log(t)}if(t){const e=[];for(const o of t)e.push(o.textContent),localStorage.setItem("data-center",JSON.stringify(e))}if(o){const e=[];for(const t of o)e.push(t.textContent),localStorage.setItem("data-right",JSON.stringify(e))}}static get(){let t,o=null;try{t=localStorage.getItem("data-left"),o=JSON.parse(t)}catch(e){console.log(e)}if(o)for(const t of o){const o=e.makeNote(t);document.querySelector(".column-left").querySelector(".column-main").insertAdjacentHTML("beforeend",o)}try{t=localStorage.getItem("data-center"),o=JSON.parse(t)}catch(e){console.log(e)}if(o)for(const t of o){const o=e.makeNote(t);document.querySelector(".column-center").querySelector(".column-main").insertAdjacentHTML("beforeend",o)}try{t=localStorage.getItem("data-right"),o=JSON.parse(t)}catch(e){console.log(e)}if(o)for(const t of o){const o=e.makeNote(t);document.querySelector(".column-right").querySelector(".column-main").insertAdjacentHTML("beforeend",o)}}static makeNote(e){return`\n      <div class="note-container">\n        <div class="note">\n          <span class="note-text">${e}</span>\n          <span class="close-note hidden">x</span>\n        </div>\n      </div>\n    `}}class t{constructor(o){this.wrapper=o,this.memory=new e,this.actualElement=void 0,this.shiftX=void 0,this.shiftY=void 0,this.showForm=this.showForm.bind(this),this.hideForm=this.hideForm.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.secondOnMouseOver=this.secondOnMouseOver.bind(this),this.wrapper.addEventListener("mouseover",t.onMouseOver),this.wrapper.addEventListener("mouseout",t.onMouseOut),this.wrapper.addEventListener("click",t.removeNote),this.wrapper.addEventListener("click",this.showForm),this.wrapper.addEventListener("click",this.hideForm),this.wrapper.addEventListener("mousedown",this.onMouseDown),this.wrapper.addEventListener("submit",t.onSubmit)}static get form(){return'\n      <form class="add-note">\n        <textarea class="textarea" placeholder="Enter a title for this card..." cols="34" rows="3" required></textarea>\n        <div class="add-note-footer">\n          <button class="add-note-button" type="submit">Add Card</button>\n          <span class="add-note-close">&#10006;</span>\n        </div>\n      </form>\n    '}static makeNote(e){return`\n      <div class="note-container">\n        <div class="note">\n          <span class="note-text">${e}</span>\n          <span class="close-note hidden">x</span>\n        </div>\n      </div>\n    `}static removeNote(e){e.target.classList.contains("close-note")&&e.target.closest(".note").remove()}static onMouseOver(e){e.target.classList.contains("note")&&e.target.closest(".note").querySelector(".close-note").classList.toggle("hidden")}static onMouseOut(e){e.target.classList.contains("note")&&e.target.closest(".note").querySelector(".close-note").classList.toggle("hidden")}showForm(e){if(!e.target.classList.contains("column-footer"))return;const o=t.form;e.target.insertAdjacentHTML("afterend",o),e.target.closest(".column").querySelector(".add-note").addEventListener("submit",this.onSubmit),e.target.classList.toggle("hidden")}hideForm(e){if(!e.target.classList.contains("add-note-close"))return;const t=e.target.closest(".add-note");e.target.closest(".column").querySelector(".column-footer").classList.toggle("hidden"),t.removeEventListener("submit",this.onSubmit),t.remove()}static onSubmit(o){o.preventDefault();const s=o.target.closest(".column").querySelector(".textarea").value.trim();if(s){const e=t.makeNote(s),n=o.target.closest(".column").querySelector(".column-main"),r=o.target.closest(".column").querySelector(".column-footer");n.insertAdjacentHTML("beforeend",e),o.target.remove(),r.classList.toggle("hidden")}e.save()}onMouseUp(e){const t=e.target;console.log(t),this.actualElement.classList.remove("dragged"),this.actualElement=void 0,this.shiftY=void 0,this.shiftX=void 0,this.actualElement.classList.remove("dragged"),document.documentElement.removeEventListener("mouseup",this.onMouseUp),document.documentElement.removeEventListener("mouseover",this.secondOnMouseOver)}secondOnMouseOver(e){this.actualElement&&(this.actualElement.style.top=e.pageY-this.shiftY+"px",this.actualElement.style.left=e.pageX-this.shiftX+"px")}onMouseDown(e){e.target.classList.contains("note")&&(e.preventDefault(),this.actualElement=e.target.closest(".note-container"),this.actualElement.classList.add("dragged"),this.shiftX=e.clientX-this.actualElement.getBoundingClientRect().left,this.shiftY=e.clientY-this.actualElement.getBoundingClientRect().top,document.documentElement.addEventListener("mouseup",this.onMouseUp),document.documentElement.addEventListener("mouseover",this.secondOnMouseOver))}}new t(document.querySelector(".wrapper"))}();
//# sourceMappingURL=main.js.map